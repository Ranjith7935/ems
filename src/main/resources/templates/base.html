<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(content)">
<head>
    <meta charset="UTF-8">
    <title>EMS Portal</title>

    <!-- ================= CSS ================= -->

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          rel="stylesheet">

    <!-- DataTables CSS -->
    <link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"
          rel="stylesheet">
    <link href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css"
          rel="stylesheet">

    <!-- SweetAlert2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
          rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/css/style.css}">

    <!-- ================= INTERNAL STYLES ================= -->
    <style>
        .main-wrapper {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        .sidebar {
            width: 230px;
            background: #ffffff;
            box-shadow: 2px 0 8px rgba(0,0,0,0.1);
            padding: 20px 10px;
        }

        .sidebar .item {
            display: block;
            padding: 10px;
            color: #333;
            font-size: 16px;
            margin-bottom: 10px;
            border-radius: 6px;
            text-decoration: none;
        }

        .sidebar .item:hover {
            background: #f0f0f0;
        }

        .content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background: #fafafa;
            padding-bottom: 80px; /* for mobile bottom nav */
        }

        .navbar-custom {
            height: 60px;
            background: #c7023f;
            color: white;
            padding: 0 20px;
        }

        .avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            .content {
                padding: 15px;
            }
        }
    </style>
</head>

<body>

<!-- ================= TOP NAVBAR ================= -->
<nav class="navbar navbar-custom fixed-top d-flex justify-content-between align-items-center">
    <span class="fw-bold">EMS Portal</span>

    <div class="d-flex align-items-center gap-3">
        

        <div class="dropdown">
            <img src="/img/default.png"
                 class="avatar dropdown-toggle"
                 data-bs-toggle="dropdown">

            <ul class="dropdown-menu dropdown-menu-end">
                <li class="dropdown-item-text fw-bold"
                    th:text="${session.name}">
                    User
                </li>
                <li class="dropdown-item-text text-muted"
                    th:text="${session.designation}">
                    Designation
                </li>
                <li><hr class="dropdown-divider"></li>
                <li>
                    <a class="dropdown-item text-danger"
                       th:href="@{/login}">
                        <i class="fa fa-sign-out-alt"></i> Logout
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- ================= MAIN LAYOUT ================= -->
<div class="main-wrapper pt-5">

    <!-- ===== SIDEBAR (DESKTOP ONLY) ===== -->
    <div class="sidebar d-none d-md-block">
        <a class="item" th:href="@{/dash-board}">
            <i class="fa fa-home me-2"></i> Dashboard
        </a>
        <a class="item" th:href="@{/add-employee}">
            <i class="fa fa-user-plus me-2"></i> Add Employee
        </a>
        <a class="item" th:href="@{/all-employee}">
            <i class="fa fa-users me-2"></i> Employees
        </a>
        <a class="item" th:href="@{/create-post}">
            <i class="fa fa-pencil-alt me-2"></i> Create Post
        </a>
        <a class="item" th:href="@{/status}">
            <i class="fa fa-tasks me-2"></i> Status
        </a>
        <a class="item" th:href="@{/profile}">
            <i class="fa fa-user me-2"></i> Profile
        </a>
        <a class="item" th:href="@{/settings}">
            <i class="fa fa-cog me-2"></i> Settings
        </a>
    </div>

    <!-- ===== CONTENT ===== -->
    <div class="content w-100">
        <div th:replace="${content}"></div>
    </div>
</div>

<!-- ================= MOBILE BOTTOM NAV ================= -->
<nav class="navbar bg-white border-top fixed-bottom  d-block d-md-none" style="background-color:#e3f2fd;">
    <div class="container-fluid d-flex justify-content-around text-center">
        <a th:href="@{/dash-board}" class="text-dark"><i class="fas fa-home"></i></a>
        <a th:href="@{/add-employee}" class="text-dark"><i class="fas fa-user-plus"></i></a>
        <a th:href="@{/all-employee}" class="text-dark"><i class="fas fa-users"></i></a>
        <a th:href="@{/create-post}" class="text-dark"><i class="fas fa-pencil-alt"></i></a>
        <a th:href="@{/status}" class="text-dark"><i class="fas fa-tasks"></i></a>
        <a th:href="@{/settings}" class="text-dark"><i class="fas fa-cog"></i></a>
    </div>
</nav>

<!-- ================= JS (ORDER MATTERS) ================= -->

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- DataTables -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>

<!-- SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>

<!-- Custom JS -->
<script th:src="@{/js/emp.js}"></script>

<!-- DataTable Init -->
<script>
    $(document).ready(function () {
        if ($('#example').length) {
            $('#example').DataTable({
                dom: 'Bfrtip',
                buttons: ['excelHtml5', 'pdfHtml5']
            });
        }
    });
</script>

</body>
</html>
